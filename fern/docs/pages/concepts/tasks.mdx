---
title: Tasks
subtitle: Understanding task management in the AUI API
slug: tasks
---

Tasks are the fundamental unit of conversation in the AUI API. Each task represents a conversational session between a user and an AI agent powered by Apollo-1.

## What is a Task?

A task is a container for a conversation that includes:

- **Task ID** - Unique identifier for the task
- **Metadata** - Custom key-value pairs for context
- **Messages** - All messages exchanged in the conversation
- **Timestamps** - Creation and update times

## Creating Tasks

Create a new task using the SDK:

<CodeBlocks>
  <CodeBlock title="TypeScript">
    ```typescript
    import { ApolloClient } from '@aui.io/aui-client';

    const client = new ApolloClient({
      networkApiKey: 'YOUR_API_KEY'
    });

    const taskResponse = await client.controllerApi.createTask({
      user_id: 'user_123'
    });

    console.log('Task ID:', taskResponse.id);
    console.log('Welcome message:', taskResponse.welcome_message);
    ```
  </CodeBlock>
  <CodeBlock title="Python">
    ```python
    from aui import ApolloClient

    client = ApolloClient(network_api_key='YOUR_API_KEY')

    task_response = client.controller_api.create_task(
        user_id='user_123'
    )

    print(f'Task ID: {task_response.id}')
    print(f'Welcome message: {task_response.welcome_message}')
    ```
  </CodeBlock>
</CodeBlocks>

**Response:**

```json
{
  "id": "6914a707cf58704fbbe7b9ad",
  "user_id": "user_123",
  "title": "New Task",
  "welcome_message": "Welcome. I am a goal-oriented agent, powered by Apollo, designed to find real-time products. What are you looking for?"
}
```

## Task Metadata

Metadata allows you to attach custom context to tasks:

- **User identification** - Track which user the task belongs to
- **Session information** - Associate tasks with user sessions
- **Channel tracking** - Identify the source channel (web, mobile, etc.)
- **Custom attributes** - Any additional context your application needs

<Tip>
Use metadata to store information that helps you track and manage tasks across your application.
</Tip>

## Task Lifecycle

Tasks follow a simple lifecycle:

1. **Creation** - Task is created with optional metadata
2. **Active** - Messages are exchanged between user and agent
3. **Completion** - Task reaches a natural conclusion

Tasks remain accessible indefinitely, allowing you to retrieve historical conversations.

## Best Practices

### Metadata Organization

Structure your metadata consistently:

```json
{
  "metadata": {
    "user_id": "user_123",
    "session_id": "session_456",
    "channel": "web",
    "context": {
      "page": "checkout",
      "cart_value": 99.99
    }
  }
}
```

### Task Identification

Always store the `task_id` returned when creating a task. You'll need it for:

- Submitting messages
- Retrieving message history
- Connecting via WebSocket

### Error Handling

Handle task creation errors gracefully:

```typescript
try {
  const task = await client.tasks.create({ metadata });
  console.log('Task created:', task.task_id);
} catch (error) {
  console.error('Failed to create task:', error);
  // Implement retry logic or fallback
}
```

## Next Steps

- Learn about [Messages](/messages) to understand how to communicate within tasks
- Explore [WebSocket Communication](/websocket) for real-time interactions
- Check the [API Reference](/api-reference) for complete endpoint documentation
